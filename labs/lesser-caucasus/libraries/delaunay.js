/* https://github.com/ironwallaby/delaunay */
var Delaunay;!function(){"use strict";function r(r){var n,e,t,u,i,l,o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(n=r.length;n--;)r[n][0]<o&&(o=r[n][0]),r[n][0]>f&&(f=r[n][0]),r[n][1]<a&&(a=r[n][1]),r[n][1]>h&&(h=r[n][1]);return e=f-o,t=h-a,u=Math.max(e,t),i=o+.5*e,l=a+.5*t,[[i-20*u,l-u],[i,l+20*u],[i+20*u,l-u]]}function n(r,n,e,u){var i,l,o,a,f,h,s,I,c,N,p=r[n][0],g=r[n][1],v=r[e][0],E=r[e][1],T=r[u][0],b=r[u][1],k=Math.abs(g-E),m=Math.abs(E-b);if(t>k&&t>m)throw new Error("Eek! Coincident points!");return t>k?(a=-((T-v)/(b-E)),h=(v+T)/2,I=(E+b)/2,i=(v+p)/2,l=a*(i-h)+I):t>m?(o=-((v-p)/(E-g)),f=(p+v)/2,s=(g+E)/2,i=(T+v)/2,l=o*(i-f)+s):(o=-((v-p)/(E-g)),a=-((T-v)/(b-E)),f=(p+v)/2,h=(v+T)/2,s=(g+E)/2,I=(E+b)/2,i=(o*f-a*h+I-s)/(o-a),l=k>m?o*(i-f)+s:a*(i-h)+I),c=v-i,N=E-l,{i:n,j:e,k:u,x:i,y:l,r:c*c+N*N}}function e(r){var n,e,t,u,i,l;for(e=r.length;e;)for(u=r[--e],t=r[--e],n=e;n;)if(l=r[--n],i=r[--n],t===i&&u===l||t===l&&u===i){r.splice(e,2),r.splice(n,2);break}}var t=1/1048576;Delaunay={triangulate:function(u,i){var l,o,a,f,h,s,I,c,N,p,g,v,E=u.length;if(3>E)return[];if(u=u.slice(0),i)for(l=E;l--;)u[l]=u[l][i];for(a=new Array(E),l=E;l--;)a[l]=l;for(a.sort(function(r,n){return u[n][0]-u[r][0]}),f=r(u),u.push(f[0],f[1],f[2]),h=[n(u,E+0,E+1,E+2)],s=[],I=[],l=a.length;l--;I.length=0){for(v=a[l],o=h.length;o--;)c=u[v][0]-h[o].x,c>0&&c*c>h[o].r?(s.push(h[o]),h.splice(o,1)):(N=u[v][1]-h[o].y,c*c+N*N-h[o].r>t||(I.push(h[o].i,h[o].j,h[o].j,h[o].k,h[o].k,h[o].i),h.splice(o,1)));for(e(I),o=I.length;o;)g=I[--o],p=I[--o],h.push(n(u,p,g,v))}for(l=h.length;l--;)s.push(h[l]);for(h.length=0,l=s.length;l--;)s[l].i<E&&s[l].j<E&&s[l].k<E&&h.push(s[l].i,s[l].j,s[l].k);return h},contains:function(r,n){if(n[0]<r[0][0]&&n[0]<r[1][0]&&n[0]<r[2][0]||n[0]>r[0][0]&&n[0]>r[1][0]&&n[0]>r[2][0]||n[1]<r[0][1]&&n[1]<r[1][1]&&n[1]<r[2][1]||n[1]>r[0][1]&&n[1]>r[1][1]&&n[1]>r[2][1])return null;var e=r[1][0]-r[0][0],t=r[2][0]-r[0][0],u=r[1][1]-r[0][1],i=r[2][1]-r[0][1],l=e*i-t*u;if(0===l)return null;var o=(i*(n[0]-r[0][0])-t*(n[1]-r[0][1]))/l,a=(e*(n[1]-r[0][1])-u*(n[0]-r[0][0]))/l;return 0>o||0>a||o+a>1?null:[o,a]}},"undefined"!=typeof module&&(module.exports=Delaunay)}();